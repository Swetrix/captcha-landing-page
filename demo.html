<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Swetrix CAPTCHA demo</title>
  <link rel="icon" href="favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#818cf8" />
  <meta name="description" content="Privacy-focused, fully opensource CAPTCHA | Swetrix" />
  <meta name="twitter:title" content="Swetrix CAPTCHA demo" />
  <meta name="twitter:description"
    content="Swetrix is a cookie-less, fully opensource and privacy-first web analytics & CAPTCHA service." />
  <meta name="twitter:card" content="summary_large_image" />
  <meta property="og:title" content="Swetrix CAPTCHA demo" />
  <meta property="og:description" content="Privacy-focused, fully opensource CAPTCHA | Swetrix" />
  <!-- <meta property="og:image" content="https://swetrix.com/assets/og_image.png" /> -->
  <meta property="og:site_name" content="Swetrix CAPTCHA" />
  <meta property="og:url" content="https://captcha.swetrix.com">
  <meta property="og:type" content="website">
  <meta name="google" content="notranslate" />

  <link rel="preconnect" href="https://fonts.bunny.net">
  <link href="https://fonts.bunny.net/css?family=inter:300,400,500,600,700,800" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="./tailwind.config.js"></script>
  <link href="styles.css" rel="stylesheet" />
</head>

<body class="dark:bg-slate-900 bg-gray-100">
  <header class='bg-indigo-600 dark:bg-gray-750 relative overflow-x-clip'>
    <nav class='mx-auto px-4 sm:px-6 lg:px-8' aria-label='Top'>
      <div
        class='w-full py-4 flex items-center justify-between border-b border-indigo-500 dark:border-gray-300 lg:border-none'>
        <div class='flex items-center'>
          <a href='https://captcha.swetrix.com'>
            <span class='sr-only'>Swetrix CAPTCHA</span>
            <img class='h-10' height='40' src='https://swetrix.com/assets/logo_white.svg' alt='Swetrix CAPTCHA' />
          </a>
          <div class='hidden ml-10 space-x-1 lg:flex'>
            <a
              href='https://blog.swetrix.com'
              class='flex justify-center items-center text-base select-none font-medium text-white hover:text-indigo-50 py-2 px-2 dark:hover:bg-gray-700 hover:bg-indigo-500 rounded-md'
              target='_blank'
              rel='noreferrer noopener'
              aria-label="Swetrix Blog (opens in a new tab)"
            >
              <!-- <RssIcon class='w-5 h-5 mr-1' /> -->
              Blog
            </a>

            <a
              href='https://swetrix.com/#pricing'
              class='flex justify-center items-center text-base select-none font-medium text-white hover:text-indigo-50 py-2 px-2 dark:hover:bg-gray-700 hover:bg-indigo-500 rounded-md'
              target='_blank'
              rel='noreferrer noopener'
              aria-label="Pricing (opens in a new tab)"
            >
              <!-- <CreditCardIcon class='w-5 h-5 mr-1' /> -->
              Pricing
            </a>
            <a
              href='https://docs.swetrix.com/captcha/introduction'
              class='flex justify-center items-center text-base select-none font-medium text-white hover:text-indigo-50 py-2 px-2 dark:hover:bg-gray-700 hover:bg-indigo-500 rounded-md'
              target='_blank'
              rel='noreferrer noopener'
              aria-label="Swetrix CAPTCHA documentation (opens in a new tab)"
            >
              <!-- <DocumentTextIcon class='w-5 h-5 mr-1' /> -->
              Docs
            </a>
          </div>
        </div>
        <div
          class='flex justify-center items-center flex-wrap ml-1 md:ml-10 space-y-1 sm:space-y-0 space-x-2 md:space-x-4'>
          <div id='sun-block' class='transition-all duration-1000 ease-in-out rotate-180'>
            <svg onClick='setTheme()' class='h-10 w-10 text-gray-200 hover:text-gray-300 cursor-pointer'
              xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
            </svg>
          </div>
          <div id='moon-block' class='transition-all duration-1000 ease-in-out'>
            <svg onClick='setTheme()' class='h-10 w-10 text-gray-200 hover:text-gray-300 cursor-pointer'
              xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
            </svg>
          </div>
          <a href='https://swetrix.com/signup'
            class='inline-block select-none bg-white dark:bg-gray-700 dark:text-gray-50 py-2 px-3 md:px-4 border border-transparent rounded-md text-base font-medium text-indigo-600 hover:bg-indigo-50 hover:dark:bg-gray-600'
            target='_blank' rel='noreferrer noopener'>
            Get started
          </a>
        </div>
      </div>
      <div class='py-4 flex flex-wrap justify-center space-x-2 lg:hidden'>
        <a href='https://blog.swetrix.com'
          class='flex justify-center items-center text-base select-none font-medium text-white hover:text-indigo-50 py-1 px-2 dark:hover:bg-gray-700 hover:bg-indigo-500 rounded-md'
          target='_blank' rel='noreferrer noopener'>
          <!-- <RssIcon class='w-5 h-5 mr-1' /> -->
          Blog
        </a>
        <a href='https://swetrix.com/#pricing'
          class='flex justify-center items-center text-base select-none font-medium text-white hover:text-indigo-50 py-1 px-2 dark:hover:bg-gray-700 hover:bg-indigo-500 rounded-md'
          target='_blank' rel='noreferrer noopener'>
          <!-- <CreditCardIcon class='w-5 h-5 mr-1' /> -->
          Pricing
        </a>
        <a href='https://docs.swetrix.com/captcha/introduction'
          class='flex justify-center items-center text-base select-none font-medium text-white hover:text-indigo-50 py-1 px-2 dark:hover:bg-gray-700 hover:bg-indigo-500 rounded-md'
          target='_blank' rel='noreferrer noopener'>
          <!-- <DocumentTextIcon class='w-5 h-5 mr-1' /> -->
          Docs
        </a>
      </div>
    </nav>
  </header>

  <section class="mt-8 mb-8 md:mt-12 md:mb-12 mx-auto max-w-[1440px] px-2 sm:px-4 md:px-6">
    <div class="flex items-center justify-between flex-col md:flex-row">
      <div class="max-w-4xl">
        <h1
          class="mb-4 text-4xl sm:text-3xl font-extrabold leading-none tracking-tight text-gray-700 dark:text-gray-200 md:text-4xl lg:text-5xl">
          Swetrix CAPTCHA basic demo
        </h1>
      </div>
    </div>
    <div id="captcha-container">
      <div class="swecaptcha" data-project-id="PmahJ6HRJNLQ"></div>
    </div>

    <section>
      <div class="max-w-4xl">
        <h2
          class="mb-4 mt-8 text-2xl sm:text-xl font-bold leading-none tracking-tight text-gray-700 md:text-4xl dark:text-gray-200">
          Configuration
        </h2>
      </div>

      <div class="flex gap-8">
        <div>
          <label for="theme" class="block text-sm font-medium leading-6 text-gray-700 dark:text-gray-200">
            Theme
          </label>
          <select
            id="theme"
            class="mt-2 block rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-700 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"
            data-setting="theme"
            autocomplete="off"
          >
            <option value="light" selected>Light</option>
            <option value="dark">Dark</option>
          </select>
        </div>
        <div>
          <label for="mode" class="block text-sm font-medium leading-6 text-gray-700 dark:text-gray-200">
            Mode
          </label>
          <select
            id="mode"
            class="mt-2 block rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-700 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"
            data-setting="projectId"
            autocomplete="off"
          >
            <option value="PmahJ6HRJNLQ" selected>Real example</option>
            <option value="AP00000000000">Always pass</option>
            <option value="MP00000000000">Always pass manual</option>
            <option value="FAIL000000000">Always fail</option>
          </select>
        </div>
      </div>
    </section>

    <section class="mt-12">
      <div class="max-w-4xl">
        <h2
          class="mb-4 text-2xl sm:text-xl font-bold leading-none tracking-tight text-gray-700 md:text-4xl dark:text-gray-200">
          Token server-side validation
        </h2>
      </div>

      <div class="flex gap-8">
        <div>
          <label for="type" class="block text-sm font-medium leading-6 text-gray-700 dark:text-gray-200">
            Token type
          </label>
          <select
            id="type"
            class="mt-2 block rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-700 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6"
            data-setting="dummySecret"
            autocomplete="off"
          >
            <option value="PASS000000000000000000" selected>Always pass</option>
            <option value="FAIL000000000000000000">Always fail</option>
            <option value="USED000000000000000000">Fail because token was already validated</option>
          </select>
          <button
            type="button"
            id="validate-token-btn"
            class="mt-3 rounded-md bg-gray-200 dark:bg-slate-800 text-gray-800 dark:text-gray-50 px-3 py-2 text-sm font-semibold shadow-sm hover:opacity-90"
          >
            Validate
          </button>
        </div>
      </div>
    </section>
  </section>

  <script src="https://cap.swetrix.com/captcha-loader.js" defer></script>
  <script>
    window.config = {
      theme: 'light',
      projectId: 'PmahJ6HRJNLQ',
      dummySecret: 'PASS000000000000000000',
    }

    const generateCaptcha = () => {
      const captchaContainer = document.querySelector('#captcha-container')

      // Creating a new CAPTCHA instance with the specified configuration
      const element = document.createElement('div')
      element.classList.add('swecaptcha')
      element.dataset.projectId = window.config.projectId
      element.dataset.theme = window.config.theme

      // Clearing the container
      captchaContainer.innerHTML = ''

      // Injecting the CAPTCHA element into the container
      captchaContainer.appendChild(element)

      // Forcefully reload the CAPTCHA loader
      if (window.swetrixCaptchaForceLoad) {
        window.swetrixCaptchaForceLoad()
      }
    }

    const validateToken = () => {
      fetch('https://api.swetrix.com/v1/captcha/validate', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          token: 'NOT_A_REAL_TOKEN',
          secret: window.config.dummySecret,
        }),
      })
        .then((response) => response.json())
        .then((data) => {
          const stringified = JSON.stringify(data, null, 2)
          alert(stringified)
        })
        .catch(console.error)
    }

    document.addEventListener('change', (ev) => {
      const { setting } = ev.target.dataset

      if (!setting) {
        return
      }

      const { value } = document.querySelector(`[data-setting="${setting}"]`)

      window.config[setting] = value

      if (setting === 'dummySecret') {
        return
      }

      generateCaptcha()
    })

    document.addEventListener('DOMContentLoaded', () => {
      const validateBtn = document.querySelector('#validate-token-btn')

      validateBtn.addEventListener('click', validateToken)
    })
  </script>

  <script>
    const theme = localStorage.getItem('theme')
    const sunBlock = document.getElementById('sun-block')
    const moonBlock = document.getElementById('moon-block')
    if (theme === 'dark') {
      document.documentElement.classList.add('dark')
      moonBlock.classList.add('hidden')
      sunBlock.classList.remove('hidden')
    } else {
      document.documentElement.classList.add('light')
      moonBlock.classList.remove('hidden')
      sunBlock.classList.add('hidden')
    }

    function setTheme() {
      const sunBlock = document.getElementById('sun-block')
      const moonBlock = document.getElementById('moon-block')
      if (document.documentElement.classList.contains('dark')) {
        document.documentElement.classList.remove('dark')
        document.documentElement.classList.add('light')
        localStorage.setItem('theme', 'light')
        moonBlock.classList.remove('hidden')
        sunBlock.classList.add('hidden')
      } else {
        document.documentElement.classList.remove('light')
        document.documentElement.classList.add('dark')
        localStorage.setItem('theme', 'dark')
        moonBlock.classList.add('hidden')
        sunBlock.classList.remove('hidden')
      }
    }
  </script>
  <script src="https://swetrix.org/swetrix.js" defer></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      swetrix.init('DDllWFPDdMG9')
      swetrix.trackViews()
    })
  </script>
  <noscript>
    <img src="https://api.swetrix.com/log/noscript?pid=DDllWFPDdMG9" alt=""
      referrerpolicy="no-referrer-when-downgrade" />
  </noscript>
</body>

</html>